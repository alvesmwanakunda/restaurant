<app-nav-bar>

  <div class="container-fluid">

    <div class="row" style="margin-bottom: 25px;">

       <div class="col-md-3">

          <mat-card>
            <mat-card-content style="text-align: center;">
               <span class="dot"><i class="fas fa-bullhorn" style="font-size:19px;color:#10ae58;"></i></span>
               <br/>
               <span style="color: #000;font-size: 13px;">Nombre total de campagne</span>
               <br/>
               <span style="color: #000;font-size: 26px;font-weight: 800;">03</span>
            </mat-card-content>
          </mat-card>

       </div><!--col-md-->

       <div class="col-md-3">

         <mat-card>
            <mat-card-content style="text-align: center;">

              <span class="dot"><i class="fas fa-comment-dollar" style="font-size:22px;color:#10ae58;"></i></span>
               <br/>
               <span style="color: #000;font-size: 13px;">Taux d'ouverture</span>
               <br/>
               <span style="color: #000;font-size: 26px;font-weight: 800;">32</span>

            </mat-card-content>
          </mat-card>

       </div><!--col-md-->

       <div class="col-md-3">

         <mat-card>
            <mat-card-content style="text-align: center;">

               <span class="dot"><i class="fas fa-bullhorn" style="font-size:19px;color:#FF9100;"></i></span>
               <br/>
               <span style="color: #000;font-size: 13px;">Nombre de message envoyé</span>
               <br/>
               <span style="color: #000;font-size: 26px;font-weight: 800;">32</span>

            </mat-card-content>
          </mat-card>

       </div><!--col-md-->

       <div class="col-md-3">

         <mat-card>
            <mat-card-content style="text-align: center;">

               <span class="dot"><i class="fas fa-bullhorn" style="font-size:19px;color:#0B0B59;"></i></span>
               <br/>
               <span style="color: #000;font-size: 13px;">Taux de réception</span>
               <br/>
               <span style="color: #000;font-size: 26px;font-weight: 800;">32</span>

            </mat-card-content>
          </mat-card>

       </div><!--col-md-->


    </div><!--row-->

    <div class="row">
      <div class="col-md-6" style="font-size: 13px;">
         <form [formGroup]="filterFormGroup">

          <mat-form-field appearance="outline" class="example-full-width" style="margin-right: 14px;">
            <mat-label>Rechercher</mat-label>
            <input matInput [matDatepicker]="fromDate" formControlName="fromDate">
            <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
            <mat-datepicker #fromDate></mat-datepicker>
          </mat-form-field>

          <button mat-raised-button (click)="applyFilterDate($event)" class="sizeButtons">Appliquer</button>

         </form>
          
      </div><!--col-->
      <div class="col-md-6" style="padding-top: 5px;">
        <div align="end" style="float: right;">
          <button mat-raised-button class="sizeButv" style="margin-right: 14px;" [routerLink]="['/message/client']">Message client </button>
          <button mat-raised-button class="sizeBut" style="margin-right: 14px;" [routerLink]="['/add/promotion']">Créer une campagne <i class="fas fa-plus"></i></button>
          <!--<button mat-raised-button class="sizeb"><i class="fas fa-file-export" style="font-size: 23px;"></i></button>-->
        </div>

      </div><!--col-->
    </div><!--row-->

    <div class="row">

      <div class="col-md-12">

         <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSource" matSort>

                      <!-- Position Column -->
                      <ng-container matColumnDef="nom">
                        <th mat-header-cell *matHeaderCellDef> Nom campagne </th>
                        <td mat-cell *matCellDef="let element" style="cursor: pointer;font-size: 12px" (click)="openDialog(element.id)" > {{element.nom}} </td>
                      </ng-container>

                      <!-- Name Column -->
                      <ng-container matColumnDef="programation">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date programation </th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"><span *ngIf="element.jours">{{element.jours |date: 'dd/MM/YYYY'}} à {{element.heure}}</span>  <span *ngIf="!element.jours">Non programmé</span></td>
                      </ng-container>

                      <!-- Weight Column -->
                      <ng-container matColumnDef="envoi">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date d'envoi </th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"> {{element.dateEnvoie |date: 'dd/MM/YYYY'}}  </td>
                      </ng-container>

                      <!-- Symbol Column -->
                      <ng-container matColumnDef="cible">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Cible</th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"> {{element.cible}} </td>
                      </ng-container>

                      <ng-container matColumnDef="type">
                        <th mat-header-cell *matHeaderCellDef [matMenuTriggerFor]="menu" style="cursor: pointer;"> Type <i class="fas fa-caret-down"></i></th>
                        <mat-menu #menu="matMenu">
                          <section class="example-section">
                            <span class="example-list-section">
                              <mat-radio-group class="example-radio-group">
                                <mat-radio-button class="example-radio-button" (change)="changeRadioActionCible($event)" value=""><span style="font-size: 12px;color: #c50e73;">Types</span></mat-radio-button>
                                <span class="example-list-section">
                                  <ul>
                                    <li class="example-radio-group">
                                        <mat-radio-button class="example-radio-button" *ngFor="let type of listType" [value]="type.nom" (change)="changeRadioActionCible($event)"><span style="font-size: 11px;">{{ type.nom}}</span></mat-radio-button>
                                    </li>
                                  </ul>
                                </span>
                              </mat-radio-group>
                            </span>    
                          </section>
                          <!--<section class="example-section">
                            <span class="example-list-section">
                              <mat-checkbox class="example-margin"
                              [(ngModel)]="master_checked"
                              [(indeterminate)]="master_indeterminate"
                              (change)="master_change()"
                              >
                                <span style="font-size: 11px;">Types</span>
                              </mat-checkbox>
                            </span>
                            <span class="example-list-section">
                              <ul>
                                <li *ngFor="let type of listType">
                                  <mat-checkbox
                                    [(ngModel)]="type.checked"
                                    [disabled]="type.disabled"
                                    (change)="list_change()"
                                    ><span style="font-size: 11px;">{{ type.nom }}</span></mat-checkbox>
                                </li>
                              </ul>
                            </span>
                          </section>-->
                        </mat-menu>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"> {{element.type}} </td>
                      </ng-container>

                      <ng-container matColumnDef="montant">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Montant </th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"> </td>
                      </ng-container>

                      <ng-container matColumnDef="activation">
                        <th mat-header-cell *matHeaderCellDef [matMenuTriggerFor]="menu1" style="cursor: pointer;"> Activation <i class="fas fa-caret-down"></i> </th>
                        <mat-menu #menu1="matMenu">
                          <section class="example-section">
                            <span class="example-list-section">
                              <mat-radio-group class="example-radio-group">
                                <mat-radio-button class="example-radio-button" (change)="changeRadioAction($event)" value=""><span style="font-size: 12px;color: #c50e73;">Critère d'activation</span></mat-radio-button>
                                <span class="example-list-section">
                                  <ul>
                                    <li class="example-radio-group">
                                        <mat-radio-button class="example-radio-button" *ngFor="let critere of listCritere" [value]="critere.nom" (change)="changeRadioAction($event)"><span style="font-size: 11px;">{{ critere.nom}}</span></mat-radio-button>
                                    </li>
                                  </ul>
                                </span>
                              </mat-radio-group>
                            </span>
                          </section>
                        </mat-menu>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)"> {{element.critere}} </td>
                      </ng-container>

                      <ng-container matColumnDef="payement">
                        <th mat-header-cell *matHeaderCellDef> Payement <i class="fas fa-caret-down"></i></th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)">  </td>
                      </ng-container>

                      <ng-container matColumnDef="statut">
                        <th mat-header-cell *matHeaderCellDef> Statut <i class="fas fa-caret-down"></i></th>
                        <td mat-cell *matCellDef="let element" style="font-size: 12px;cursor: pointer;" (click)="openDialog(element.id)">  </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <mat-paginator [pageSizeOptions]="[10, 20]"
                           showFirstLastButtons
                           aria-label="Select page of periodic elements">
            </mat-paginator>
         </div>

      </div><!--col-->

    </div><!--row-->

  </div><!--container-fluid-->

</app-nav-bar>
